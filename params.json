{"name":"Chauffeur","tagline":"A library for writing functional tests","body":"# Chauffeur [![Build Status](https://drone.io/github.com/lawrencec/chauffeur/status.png)](https://drone.io/github.com/lawrencec/chauffeur/latest)\r\n\r\n\r\nA cross browser library for writing functional tests. Based around the page object pattern, it improves the ease of writing functional tests. The general priniciple is that instead of explicity asserting on a specific value, you pass in the values you expect and the assertation is done implicitly. If you prefer callback syntax chauffeur allows that too.\r\n\r\n## Dependencies:\r\n\r\nChauffeur requires a webdriver library in order to run tests in a browser. Currently support is for the following of which only one is needed.\r\n\r\n* [webdriverio](http://webdriver.io/) [Default]\r\n* [selenium webdriverjs](http://selenium.googlecode.com/git/docs/api/javascript/index.html) \r\n\r\n# Usage\r\n\r\nAn example of what a functional test can look like with chauffeur:\r\n``` js\r\n client\r\n    .to(GithubPage)\r\n    .at(GithubPage, function(err) {\r\n      if(err) {\r\n        return;\r\n      }\r\n      this.headerLogo()\r\n          .size({width:89, height: 32})\r\n          .width('89px')\r\n          .color('rgba(51,51,51,1)')\r\n          .visible()\r\n          .signUpForm()\r\n          .size({width: 320, height: 296})\r\n          .end(done);\r\n    });\r\n```\r\n\r\nand with callbacks:\r\n\r\n``` js\r\nclient\r\n    .to(GithubPage)\r\n    .at(GithubPage, function(err) {\r\n      if(err) {\r\n        return;\r\n      }\r\n      this.headerLogo()\r\n          .size(function(err, result) {\r\n            expect(err).to.be.null;\r\n            assert.strictEqual(result.height , 32);\r\n            assert.strictEqual(result.width, 89);\r\n          })\r\n          .width(function(err, result){\r\n            expect(err).to.be.null;\r\n            assert.strictEqual(result, '89px');\r\n          })\r\n          .color(function(err, result) {\r\n            expect(err).to.be.null;\r\n            assert.strictEqual(result, 'rgba(51,51,51,1)');\r\n          })\r\n          .visible()\r\n          .cssProperty('a[href=\"/plans\"]', 'color', function(err, result) {\r\n            expect(err).to.be.null;\r\n            assert.strictEqual(result, 'rgba(65,131,196,1)');\r\n          })\r\n          .getTitle(function(err, title) {\r\n            expect(err).to.be.null;\r\n            assert.strictEqual(title,'GitHub Â· Build software better, together.');\r\n          })\r\n      .signUpForm()\r\n          .size(function(err, result) {\r\n            expect(err).to.be.null;\r\n            assert.strictEqual(result.width, 320);\r\n            assert.strictEqual(result.height , 296);\r\n          })\r\n          .end(done);\r\n    });\r\n```\r\n\r\n## Installation\r\n\r\nThis module can be installed via npm:\r\n\r\n``` bash\r\n$ npm install page-chauffeur\r\n```\r\n\r\nor via a git clone :\r\n\r\n``` bash\r\n$ cd page-chauffeur\r\n$ npm install .\r\n```\r\n\r\nOnce installed, require it like so:\r\n\r\n``` js\r\nvar chauffeur = require('page-chauffeur');\r\n```\r\n\r\n## Examples\r\n\r\nThe examples are setup with their own package.json file and dependecies. First install the dependencies.\r\n\r\n``` bash\r\n$ cd examples\r\n$ npm install\r\n```\r\n\r\n### TodoMVC\r\n\r\nThe TodoMVC subdirectory is an ported example of the tests that exist for the [TodoMVC](http://todomvc.com/) project. Running the todomvc grunt task runs the tests against the default library, Backbone. At the time of writing, phantomjs does not support localstorage so the tests need to run in something other than phantomjs eg firefox:\r\n\r\n``` bash\r\ncd examples/TodoMVC\r\nCHAUFFEUR_BROWSER=firefox grunt todomvc\r\n```\r\n\r\nThe tests can also be setup to run against another framework supported by the TodoMVC project. Just set the *mvcLib* property to the relevant url (without the domain):\r\n\r\n``` bash\r\ncd examples/TodoMVC\r\nCHAUFFEUR_BROWSER=firefox mvcLib=mvcLib=architecture-examples/angularjs/ grunt todomvc\r\n```\r\n\r\n### Github example\r\n\r\nThe examples/Github directory, following the example given by the webdriverjs project, provides a few examples of how to run tests using various test frameworks. See the following code snippet for information on how to run each:\r\n\r\n``` bash\r\n$ cd Github\r\n$ node github-with-buster.js \r\n$ mocha github-with-jasmine.js\r\n$ mocha github-with-mocha.js\r\n$ mocha github-with-mocha-with-chai.js\r\n```\r\n\r\nThere is a single command, defined in the scripts section of <code>examples/package.json</code> which will run all the examples in a specific browser(s).\r\n\r\n``` bash\r\n$ cd examples/Github\r\n$ npm run examples\r\n$ npm run examples-ff\r\n$ npm run examples-chrome\r\n$ npm run examples-all # all the above\r\n```\r\n\r\n## Running under other browsers\r\n\r\nBy default these examples (and the integration tests for chauffeur) will run under phantomjs. Other browsers can be specified using the <code>CHAUFFEUR_BROWSER</code> environment variable.\r\n\r\n``` bash\r\nCHAUFFEUR_BROWSER=firefox grunt test-int\r\ncd examples\r\nCHAUFFEUR_BROWSER=firefox grunt github\r\n```\r\n\r\n## Specifying different webdriver library\r\n\r\nChauffeur can switch which webdriver library it uses via a env var called `CHAUFFEUR_WEBDRIVER_LIB`. The valid values for this var is `webdriverio` or `webdriverjs`. The default is webdriverio.\r\n\r\n``` bash\r\nCHAUFFEUR_BROWSER=firefox CHAUFFEUR_WEBDRIVER_LIB=webdriverjs grunt test-int\r\n```\r\n\r\n## API\r\n\r\nThe following is an example of the current supported API. This snippet is for documentation purposes only as the [ContentSpec integration test](https://github.com/lawrencec/chauffeur/blob/master/test/integration/contentSpec.js) shows working code example of every method currently supported.\r\n\r\n``` js\r\n client\r\n    .to(MyOwnPage)\r\n    .at(MyOwnPage, function(err) {\r\n      if(err) {\r\n        return;\r\n      }\r\n \tthis.headerLogo()\r\n            .size({width:89, height: 32})\r\n            .width('89px')\r\n            .color('rgba(51,51,51,1)')\r\n            .visible()\r\n            .invisible()\r\n            .location({x:1, y:1})\r\n            .nodeName('div');\r\n\tthis.subHeading\r\n\t      .text('text')\r\n\t      .exists()\r\n            .exists(false);\r\n\tthis.checkbox\r\n            .selected()\r\n           .unselected();\r\n        this.textField\r\n            .hasValue('someValue')\r\n            .value('newValue')\r\n            .clear()\r\n            .attr('id', 'username')\r\n            .enter('some keys');\r\n        this.todoList(1)\r\n            .text('book')\r\n        this.todoList(2)\r\n            .text('bluray')      \r\n        this.actionBtn\r\n            .klick()\r\n\t    .wait('500');\r\n        this.loginForm.submit();     \r\n            .end(done);\r\n    });\r\n```\r\n\r\n\r\n## Tests\r\n\r\n### Unit tests\r\n\r\n``` bash\r\n$ grunt test\r\n```\r\n\r\n### Integration tests\r\n\r\nThe integration tests run against a browser using a running instance of selenium server.\r\n\r\nThe grunt task test-int runs a selenium server (via grunt-selenium-webdriver) prior to running the tests and since npm test-int is 'aliased' to grunt test-int both can be used to run the integration tests:\r\n\r\n``` bash\r\n$ npm run test-int\r\n```\r\n\r\nor \r\n``` bash\r\n$ grunt test-int\r\n```\r\n\r\nTo run the integration tests using a different browser i.e Chrome\r\n\r\n``` bash\r\n$ CHAUFFEUR_BROWSER=chrome grunt test-int\r\n```\r\n\r\n### Coverage\r\n\r\nA coverage report can be found in target/unit/lcov-report/index.html after the following command (requires global and non-global install of mocha)\r\n\r\n``` bash\r\n$ grunt coverage\r\n```\r\n\r\n## Todo\r\n\r\n- Provide CucumberJS examples\r\n- <del>Provide alternative to webdriverjs.io (selenium webdriverjs)</del>\r\n\r\n\r\n","google":"UA-54773288-1","note":"Don't delete this file! It's used internally to help with page regeneration."}